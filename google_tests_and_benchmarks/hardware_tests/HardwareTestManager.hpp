#ifndef NANDCOMPUTER_HARDWARETESTMANAGER_HPP
#define NANDCOMPUTER_HARDWARETESTMANAGER_HPP


const double THOROUGHNESS_SEC = 0.5;


///Macro definitions for easy registration
#define HARDWARE_TRUTHTABLE_TEST_V(TYPE, TESTNAME, STANDARDNAME, TESTEDGATENAME) \
    TEST(TYPE##TestSuite, TESTNAME) { Standards::HardwareStandards::TYPE##Standards::STANDARDNAME(Hardware::TYPE::TESTEDGATENAME); }
#define BASICGATE_TRUTHTABLE_TEST_V(TESTNAME, STANDARDNAME, TESTEDGATENAME) HARDWARE_TRUTHTABLE_TEST_V(BasicGates, TESTNAME, STANDARDNAME, TESTEDGATENAME)
#define     ADDER_TRUTHTABLE_TEST_V(TESTNAME, STANDARDNAME, TESTEDGATENAME) HARDWARE_TRUTHTABLE_TEST_V(Adders,     TESTNAME, STANDARDNAME, TESTEDGATENAME)
#define BASICGATE_TRUTHTABLE_TEST(TESTNAME, TESTEDGATENAME) BASICGATE_TRUTHTABLE_TEST_V(TESTNAME, TESTEDGATENAME, TESTEDGATENAME)
#define     ADDER_TRUTHTABLE_TEST(TESTNAME, TESTEDGATENAME)     ADDER_TRUTHTABLE_TEST_V(TESTNAME, TESTEDGATENAME, TESTEDGATENAME)

#define HARDWARE_PARTIAL_TEST_V(TYPE, TESTNAME, STANDARDNAME, TESTEDGATENAME, RUNS_PER_SEC, ...) \
    TEST(TYPE##TestSuite, TESTNAME) \
    { \
        for (int i = THOROUGHNESS_SEC*RUNS_PER_SEC; i--; ) \
            Standards::HardwareStandards::TYPE##Standards::STANDARDNAME(Hardware::TYPE::TESTEDGATENAME, __VA_ARGS__); \
    }
#define BASICGATE_PARTIAL_TEST_V(TESTNAME, STANDARDNAME, TESTEDGATENAME, RUNS_PER_SEC, ...) HARDWARE_PARTIAL_TEST_V(BasicGates, TESTNAME, STANDARDNAME, TESTEDGATENAME, RUNS_PER_SEC, __VA_ARGS__)
#define     ADDER_PARTIAL_TEST_V(TESTNAME, STANDARDNAME, TESTEDGATENAME, RUNS_PER_SEC, ...) HARDWARE_PARTIAL_TEST_V(Adders,     TESTNAME, STANDARDNAME, TESTEDGATENAME, RUNS_PER_SEC, __VA_ARGS__)
#define BASICGATE_PARTIAL_TEST(TESTNAME, TESTEDGATENAME, RUNS_PER_SEC, ...) BASICGATE_PARTIAL_TEST_V(TESTNAME, TESTEDGATENAME, TESTEDGATENAME, RUNS_PER_SEC, __VA_ARGS__)
#define     ADDER_PARTIAL_TEST(TESTNAME, TESTEDGATENAME, RUNS_PER_SEC, ...)     ADDER_PARTIAL_TEST_V(TESTNAME, TESTEDGATENAME, TESTEDGATENAME, RUNS_PER_SEC, __VA_ARGS__)

#endif //NANDCOMPUTER_HARDWARETESTMANAGER_HPP
